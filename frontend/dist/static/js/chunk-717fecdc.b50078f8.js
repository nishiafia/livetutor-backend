(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-717fecdc"],{"169a":function(t,e,n){"use strict";n("368e");var i=n("480e"),a=n("4ad4"),o=n("b848"),r=n("75eb"),s=n("e707"),c=n("e4d3"),l=n("21be"),u=n("a293"),d=n("58df"),h=n("d9bd"),m=n("80d2");function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t){return _(t)||b(t)||g(t)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(t,e){if(t){if("string"===typeof t)return x(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(t,e):void 0}}function b(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _(t){if(Array.isArray(t))return x(t)}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A=Object(d["a"])(o["a"],r["a"],s["a"],c["a"],l["a"],a["a"]);e["a"]=A.extend({name:"v-dialog",directives:{ClickOutside:u["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:[String,Number],noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:[String,Number]},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var t;return t={},w(t,"v-dialog ".concat(this.contentClass).trim(),!0),w(t,"v-dialog--active",this.isActive),w(t,"v-dialog--persistent",this.persistent),w(t,"v-dialog--fullscreen",this.fullscreen),w(t,"v-dialog--scrollable",this.scrollable),w(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(h["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):s["a"].options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$nextTick((function(){t.$refs.content.contains(document.activeElement)||(t.previousActiveElement=document.activeElement,t.$refs.content.focus()),t.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===m["z"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var n=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),i=p(n).find((function(t){return!t.hasAttribute("disabled")}));i&&i.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(i["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:v({role:"dialog",tabindex:t.isActive?0:void 0,"aria-modal":t.hideOverlay?void 0:"true"},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=v(v({},t.style),{},{maxWidth:Object(m["h"])(this.maxWidth),width:Object(m["h"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},[this.genActivator(),this.genContent()])}})},"368e":function(t,e,n){},"3a2f":function(t,e,n){"use strict";n("9734");var i=n("4ad4"),a=n("a9ad"),o=n("16b7"),r=n("b848"),s=n("f573"),c=n("80d2"),l=n("d9bd"),u=n("58df");function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e["a"]=Object(u["a"])(a["a"],o["a"],r["a"],s["a"]).extend({name:"v-tooltip",props:{closeDelay:{type:[Number,String],default:0},disabled:Boolean,openDelay:{type:[Number,String],default:0},openOnHover:{type:Boolean,default:!0},openOnFocus:{type:Boolean,default:!0},tag:{type:String,default:"span"},transition:String},data:function(){return{calculatedMinWidth:0,closeDependents:!1}},computed:{calculatedLeft:function(){var t=this.dimensions,e=t.activator,n=t.content,i=!this.bottom&&!this.left&&!this.top&&!this.right,a=!1!==this.attach?e.offsetLeft:e.left,o=0;return this.top||this.bottom||i?o=a+e.width/2-n.width/2:(this.left||this.right)&&(o=a+(this.right?e.width:-n.width)+(this.right?10:-10)),this.nudgeLeft&&(o-=parseInt(this.nudgeLeft)),this.nudgeRight&&(o+=parseInt(this.nudgeRight)),"".concat(this.calcXOverflow(o,this.dimensions.content.width),"px")},calculatedTop:function(){var t=this.dimensions,e=t.activator,n=t.content,i=!1!==this.attach?e.offsetTop:e.top,a=0;return this.top||this.bottom?a=i+(this.bottom?e.height:-n.height)+(this.bottom?10:-10):(this.left||this.right)&&(a=i+e.height/2-n.height/2),this.nudgeTop&&(a-=parseInt(this.nudgeTop)),this.nudgeBottom&&(a+=parseInt(this.nudgeBottom)),!1===this.attach&&(a+=this.pageYOffset),"".concat(this.calcYOverflow(a),"px")},classes:function(){return{"v-tooltip--top":this.top,"v-tooltip--right":this.right,"v-tooltip--bottom":this.bottom,"v-tooltip--left":this.left,"v-tooltip--attached":""===this.attach||!0===this.attach||"attach"===this.attach}},computedTransition:function(){return this.transition?this.transition:this.isActive?"scale-transition":"fade-transition"},offsetY:function(){return this.top||this.bottom},offsetX:function(){return this.left||this.right},styles:function(){return{left:this.calculatedLeft,maxWidth:Object(c["h"])(this.maxWidth),minWidth:Object(c["h"])(this.minWidth),top:this.calculatedTop,zIndex:this.zIndex||this.activeZIndex}}},beforeMount:function(){var t=this;this.$nextTick((function(){t.value&&t.callActivate()}))},mounted:function(){"v-slot"===Object(c["u"])(this,"activator",!0)&&Object(l["b"])("v-tooltip's activator slot must be bound, try '<template #activator=\"data\"><v-btn v-on=\"data.on>'",this)},methods:{activate:function(){this.updateDimensions(),requestAnimationFrame(this.startTransition)},deactivate:function(){this.runDelay("close")},genActivatorListeners:function(){var t=this,e=i["a"].options.methods.genActivatorListeners.call(this);return this.openOnFocus&&(e.focus=function(e){t.getActivator(e),t.runDelay("open")},e.blur=function(e){t.getActivator(e),t.runDelay("close")}),e.keydown=function(e){e.keyCode===c["z"].esc&&(t.getActivator(e),t.runDelay("close"))},e},genActivatorAttributes:function(){return{"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genTransition:function(){var t=this.genContent();return this.computedTransition?this.$createElement("transition",{props:{name:this.computedTransition}},[t]):t},genContent:function(){var t;return this.$createElement("div",this.setBackgroundColor(this.color,{staticClass:"v-tooltip__content",class:(t={},d(t,this.contentClass,!0),d(t,"menuable__content__active",this.isActive),d(t,"v-tooltip__content--fixed",this.activatorFixed),t),style:this.styles,attrs:this.getScopeIdAttrs(),directives:[{name:"show",value:this.isContentActive}],ref:"content"}),this.getContentSlot())}},render:function(t){var e=this;return t(this.tag,{staticClass:"v-tooltip",class:this.classes},[this.showLazyContent((function(){return[e.genTransition()]})),this.genActivator()])}})},9734:function(t,e,n){},a523:function(t,e,n){"use strict";n("20f6"),n("4b85");var i=n("a026");function a(t){return i["a"].extend({name:"v-".concat(t),functional:!0,props:{id:String,tag:{type:String,default:"div"}},render:function(e,n){var i=n.props,a=n.data,o=n.children;a.staticClass="".concat(t," ").concat(a.staticClass||"").trim();var r=a.attrs;if(r){a.attrs={};var s=Object.keys(r).filter((function(t){if("slot"===t)return!1;var e=r[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e}));s.length&&(a.staticClass+=" ".concat(s.join(" ")))}return i.id&&(a.domProps=a.domProps||{},a.domProps.id=i.id),e(i.tag,a,o)}})}var o=n("d9f7");e["a"]=a("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render:function(t,e){var n,i=e.props,a=e.data,r=e.children,s=a.attrs;return s&&(a.attrs={},n=Object.keys(s).filter((function(t){if("slot"===t)return!1;var e=s[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e}))),i.id&&(a.domProps=a.domProps||{},a.domProps.id=i.id),t(i.tag,Object(o["a"])(a,{staticClass:"container",class:Array({"container--fluid":i.fluid}).concat(n||[])}),r)}})},f734:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",[n("v-col",{attrs:{lg:"8"}},[n("fee-payment-summary")],1),n("v-col",{attrs:{lg:"4"}},[n("FeeHeads",{attrs:{items:t.items,room_id:t.$route.params.id,refresh:t.loadFees}})],1)],1)],1)},a=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"pa-0"},[n("v-toolbar",{attrs:{"min-width":"100%",dark:"",color:"primary"}},[n("v-card-title",[t._v("Monthly Fees Heads")]),n("v-spacer"),n("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.attrs,a=e.on;return[n("v-btn",t._g(t._b({staticClass:"ma-4",attrs:{dark:"",outlined:""}},"v-btn",i,!1),a),[t._v("Add New Fee")])]}}]),model:{value:t.dialogNewFee,callback:function(e){t.dialogNewFee=e},expression:"dialogNewFee"}},[n("new-fee",{attrs:{room_id:t.room_id},on:{closeDialog:t.closeDialogNewFee}})],1)],1),n("v-data-table",{staticClass:"pa-4",attrs:{headers:t.headers,items:t.items}})],1)},r=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"pa-4"},[n("v-card-title",[t._v("Create New Fee")]),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{label:"Title"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-text-field",{attrs:{label:"Amount"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1)],1),n("v-select",{attrs:{multiple:"",chips:"",label:"Select Month(s)",items:t.remaining_months,"item-text":"text","item-value":"value"},model:{value:t.months,callback:function(e){t.months=e},expression:"months"}}),n("v-select",{attrs:{items:t.year_choices,label:"Year"},model:{value:t.year,callback:function(e){t.year=e},expression:"year"}}),n("room-users",{attrs:{room_id:t.$route.params.id},on:{set_users:t.set_users}}),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{loading:t.loading,color:"primary",outlined:""},on:{click:t.createFee}},[t._v("Create")])],1)],1)},c=[],l=function(){return n.e("chunk-2d0c8806").then(n.bind(null,"54c4"))},u={props:["room_id"],components:{RoomUsers:l},emits:["closeDialog"],inject:["refresh"],data:function(){return{selected_users:[],amount:"",name:"",months:[],year:(new Date).getFullYear(),loading:!1,month_list:[{text:"January",value:"1"},{text:"February",value:"2"},{text:"March",value:"3"},{text:"April",value:"4"},{text:"May",value:"5"},{text:"June",value:"6"},{text:"July",value:"7"},{text:"August",value:"8"},{text:"September",value:"9"},{text:"October",value:"10"},{text:"November",value:"11"},{text:"December",value:"12"}]}},computed:{remaining_months:function(){return this.year===(new Date).getFullYear()?this.month_list.filter((function(t){return t.value>(new Date).getMonth()})):this.month_list},year_choices:function(){var t=[(new Date).getFullYear()];return 11===(new Date).getMonth&&t.append((new Date).getFullYear()+1),t}},methods:{createFee:function(){var t=this;this.loading=!0;var e=this.months.map((function(e){return{month:e,fee:{name:t.name,amount:t.amount},year:t.year,room:t.room_id,room_user:t.selected_users.map((function(t){return t.id}))}}));this.$api.post("/rooms/".concat(this.room_id,"/fees/"),e).then((function(){t.loading=!1,t.refresh(),t.$emit("closeDialog")})).catch((function(e){alert(e),t.loading=!1}))},set_users:function(t){this.selected_users=t}}},d=u,h=n("2877"),m=n("6544"),f=n.n(m),v=n("8336"),p=n("b0af"),y=n("99d9"),g=n("62ad"),b=n("0fd9"),_=n("b974"),x=n("2fa4"),w=n("8654"),A=Object(h["a"])(d,s,c,!1,null,null,null),O=A.exports;f()(A,{VBtn:v["a"],VCard:p["a"],VCardActions:y["a"],VCardTitle:y["d"],VCol:g["a"],VRow:b["a"],VSelect:_["a"],VSpacer:x["a"],VTextField:w["a"]});var k={components:{NewFee:O},props:["room_id","items"],data:function(){return{dialogNewFee:!1,headers:[{text:"Name",value:"fee.name"},{text:"Amount",value:"fee.amount"},{text:"Month",value:"fee_month"},{text:"Year",value:"year"},{text:"Actions",value:"actions"}]}},created:function(){},methods:{closeDialogNewFee:function(){this.dialogNewFee=!1}}},C=k,S=n("8fea"),F=n("169a"),D=n("71d9"),$=Object(h["a"])(C,o,r,!1,null,null,null),j=$.exports;f()($,{VBtn:v["a"],VCard:p["a"],VCardTitle:y["d"],VDataTable:S["a"],VDialog:F["a"],VSpacer:x["a"],VToolbar:D["a"]});var T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[t._v("Room Fee Summary")]),n("v-data-table",{attrs:{items:t.summary,headers:t.headers},scopedSlots:t._u([{key:"item.January",fn:function(e){var i=e.item;return[i.payments.January?n("span",[t._v(" "+t._s(i.payments.January.paid))]):t._e()]}},{key:"item.February",fn:function(e){var i=e.item;return[i.payments.February?n("span",[t._v(" "+t._s(i.payments.February.paid)+" ")]):t._e()]}},{key:"item.March",fn:function(e){var i=e.item;return[i.payments.March?n("span",[t._v(" "+t._s(i.payments.March.paid))]):t._e()]}},{key:"item.April",fn:function(e){var i=e.item;return[i.payments.April?n("span",[t._v(" "+t._s(i.payments.April.paid))]):t._e()]}},{key:"item.May",fn:function(e){var i=e.item;return[i.payments.May?n("span",[t._v(" "+t._s(i.payments.May.paid)+" ")]):t._e()]}},{key:"item.June",fn:function(e){var i=e.item;return[i.payments.June?n("span",[t._v(" "+t._s(i.payments.June.paid))]):t._e()]}},{key:"item.July",fn:function(e){var i=e.item;return[i.payments.July?n("span",[t._v(" "+t._s(i.payments.July.paid)+" / "+t._s(i.payments.July.total))]):t._e()]}},{key:"item.August",fn:function(e){var i=e.item;return[i.payments.August?n("span",[t._v(" "+t._s(i.payments.August.paid))]):t._e()]}},{key:"item.September",fn:function(e){var i=e.item;return[i.payments.September?n("span",[t._v(" "+t._s(i.payments.September.paid))]):t._e()]}},{key:"item.October",fn:function(e){var i=e.item;return[i.payments.October?n("span",[t._v(" "+t._s(i.payments.October.paid)+" / "+t._s(i.payments.October.total)+" ")]):t._e()]}},{key:"item.November",fn:function(e){var i=e.item;return[n("v-tooltip"),i.payments.November?n("span",[t._v(" "+t._s(i.payments.November.paid)+" / "+t._s(i.payments.November.total)+" ")]):t._e()]}},{key:"item.December",fn:function(e){var i=e.item;return[i.payments.December?n("span",[t._v(" "+t._s(i.payments.December.paid)+"/"+t._s(i.payments.December.total)+" ")]):t._e()]}}])})],1)},M=[],E={data:function(){return{payments:[],headers:[{text:"User",value:"user"},{text:"January",value:"January"},{text:"February",value:"February"},{text:"March",value:"March"},{text:"April",value:"April"},{text:"May",value:"May"},{text:"June",value:"June"},{text:"July",value:"July"},{text:"August",value:"August"},{text:"September",value:"September"},{text:"October",value:"October"},{text:"November",value:"November"},{text:"December",value:"December"},{text:"Action",value:"action"}]}},mounted:function(){this.loadFeeSummary()},methods:{loadFeeSummary:function(){var t=this;this.$api.get("/rooms/".concat(this.$route.params.id,"/payment-summary/")).then((function(e){t.payments=e.data}))}},computed:{summary:function(){var t=this.payments.map((function(t){return{user:t.id,payments:t.room_user_fees.reduce((function(t,e){return t[e.month]||(t[e.month]={paid:0,total:0}),null!==e.room_fee_payment&&(t[e.month].paid+=e.payment_amount),t[e.month].total+=e.amount,t}),{})}}));return t}}},V=E,N=n("3a2f"),B=Object(h["a"])(V,T,M,!1,null,null,null),I=B.exports;f()(B,{VCard:p["a"],VCardTitle:y["d"],VDataTable:S["a"],VTooltip:N["a"]});var J={provide:function(){return{refresh:this.loadFees}},components:{FeeHeads:j,FeePaymentSummary:I},data:function(){return{items:[],summary:[]}},created:function(){this.loadFees()},methods:{loadFees:function(){var t=this;this.$api.get("/rooms/".concat(this.$route.params.id,"/fees/"),{room_id:this.$route.params.id}).then((function(e){t.items=e.data}))}}},P=J,L=n("a523"),W=Object(h["a"])(P,i,a,!1,null,null,null);e["default"]=W.exports;f()(W,{VCol:g["a"],VContainer:L["a"],VRow:b["a"]})}}]);
//# sourceMappingURL=chunk-717fecdc.b50078f8.js.map