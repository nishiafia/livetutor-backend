(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-123c8e48"],{"57d8":function(e,t,n){"use strict";n("5ced")},"5ced":function(e,t,n){},"7fa2":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.file.split(".").pop().match(/(jpg|jpeg|png|gif)$/i)?n("v-img",{staticClass:"grey lighten-2",attrs:{src:e.file,"max-width":"100%",height:"150"},on:{click:function(t){return e.openFile(e.file)}}}):n("v-img",{attrs:{"max-width":"100%",height:"150"},on:{click:function(t){return e.openFile(e.file)}}},[n("v-row",{staticClass:"fill-height",attrs:{justify:"center",align:"center"}},[n("h1",[e._v(e._s(e.file.split(".").pop()))])])],1)},s=[],i={name:"Thumbnail",props:{file:{type:String,required:!0}},methods:{openFile:function(e){window.open(e,"_blank")}}},r=i,o=n("2877"),l=n("6544"),c=n.n(l),u=n("adda"),d=n("0fd9"),m=Object(o["a"])(r,a,s,!1,null,null,null);t["a"]=m.exports;c()(m,{VImg:u["a"],VRow:d["a"]})},ce87:function(e,t,n){"use strict";var a=n("16b7"),s=n("f2e7"),i=n("58df"),r=n("d9bd");t["a"]=Object(i["a"])(a["a"],s["a"]).extend({name:"v-hover",props:{disabled:{type:Boolean,default:!1},value:{type:Boolean,default:void 0}},methods:{onMouseEnter:function(){this.runDelay("open")},onMouseLeave:function(){this.runDelay("close")}},render:function(){return this.$scopedSlots.default||void 0!==this.value?(this.$scopedSlots.default&&(e=this.$scopedSlots.default({hover:this.isActive})),Array.isArray(e)&&1===e.length&&(e=e[0]),e&&!Array.isArray(e)&&e.tag?(this.disabled||(e.data=e.data||{},this._g(e.data,{mouseenter:this.onMouseEnter,mouseleave:this.onMouseLeave})),e):(Object(r["c"])("v-hover should only contain a single element",this),e)):(Object(r["c"])("v-hover is missing a default scopedSlot or bound value",this),null);var e}})},e9be:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"pa-2"},[n("v-row",[n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-card",{staticClass:"pa-4"},[n("v-card-actions",[n("v-btn",{attrs:{color:"red lighten-2",dark:"",outlined:""},on:{click:e.deleteAssignment}},[e._v("Delete")]),n("v-spacer"),n("v-btn",{attrs:{color:"green lighten-2",dark:"",outlined:""},on:{click:function(t){return e.updateAssignment(e.assignment)}}},[e._v("Save")])],1),n("v-row",[n("v-col",{attrs:{cols:"8"}},[n("v-text-field",{attrs:{label:"Title"},model:{value:e.assignment.name,callback:function(t){e.$set(e.assignment,"name",t)},expression:"assignment.name"}})],1),n("v-col",{attrs:{cols:"4"}},[n("v-text-field",{attrs:{label:"Mark",type:"number"},model:{value:e.assignment.mark,callback:function(t){e.$set(e.assignment,"mark",t)},expression:"assignment.mark"}})],1)],1),n("v-text-field",{attrs:{label:"Description"},model:{value:e.assignment.description,callback:function(t){e.$set(e.assignment,"description",t)},expression:"assignment.description"}}),n("v-row",[n("v-col",[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.assignment.end_date_time,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.assignment,"end_date_time",t)},"update:return-value":function(t){return e.$set(e.assignment,"end_date_time",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Assignment Due Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.assignment.end_date_time,callback:function(t){e.$set(e.assignment,"end_date_time",t)},expression:"assignment.end_date_time"}},"v-text-field",s,!1),a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.assignment.end_date_time,callback:function(t){e.$set(e.assignment,"end_date_time",t)},expression:"assignment.end_date_time"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.assignment.end_date_time)}}},[e._v(" OK ")])],1)],1)],1),n("v-col",[n("v-menu",{ref:"menu2",attrs:{"nudge-right":40,"return-value":e.assignment.due_time,transition:"scale-transition","offset-y":"","close-on-content-click":!1,"max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(t){return e.$set(e.assignment,"due_time",t)},"update:return-value":function(t){return e.$set(e.assignment,"due_time",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,s=t.attrs;return[n("v-text-field",e._g(e._b({attrs:{label:"Assignment Due Time","prepend-icon":"mdi-clock-time-four-outline",readonly:""},model:{value:e.assignment.end_date_time,callback:function(t){e.$set(e.assignment,"end_date_time",t)},expression:"assignment.end_date_time"}},"v-text-field",s,!1),a))]}}]),model:{value:e.menu2,callback:function(t){e.menu2=t},expression:"menu2"}},[e.menu2?n("v-time-picker",{attrs:{"full-width":""},model:{value:e.assignment.end_date_time,callback:function(t){e.$set(e.assignment,"end_date_time",t)},expression:"assignment.end_date_time"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu2.save(e.assignment.due_time)}}},[e._v(" OK ")])],1):e._e()],1)],1)],1)],1)],1),n("v-col",{attrs:{cols:"12",md:"6"}},[n("v-card",{staticClass:"pa-4"},[n("v-card-title",[n("span",{staticClass:"headline"},[n("v-icon",[e._v("mdi-file-image-outline")]),n("span",[e._v("Files")])],1)]),n("v-row",{staticClass:"fill-height",attrs:{align:"center",justify:"center"}},e._l(e.assignment.files,(function(t,a){return n("v-col",{key:a,attrs:{cols:"12",md:"3"}},[n("v-hover",{scopedSlots:e._u([{key:"default",fn:function(e){var a=e.hover;return[n("v-card",{class:{"on-hover":a},attrs:{elevation:a?12:2}},[n("thumbnail",{attrs:{file:t.file}})],1)]}}],null,!0)})],1)})),1),n("v-row",[n("v-file-input",{attrs:{multiple:"",chips:"","append-icon":"mdi-check",label:"Add New Files"},on:{"click:append":e.addFiles},model:{value:e.newFiles,callback:function(t){e.newFiles=t},expression:"newFiles"}})],1)],1)],1)],1),n("v-card",{staticClass:"mt-4"},[n("v-card-title",[e._v("Submissions")]),n("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.submissions,"item-key":"id"},scopedSlots:e._u([{key:"item.mark",fn:function(t){var a=t.item;return[n("v-text-field",{attrs:{type:"number",max:e.assignment.mark,step:"0.1",suffix:"/ "+e.assignment.mark},on:{change:function(t){return e.updateMark(t,a)}},model:{value:a.mark,callback:function(t){e.$set(a,"mark",t)},expression:"item.mark"}})]}}])})],1)],1)},s=[],i=n("7424"),r=n("7fa2"),o={components:{Thumbnail:r["a"]},name:"Assignments",data:function(){return{menu:!1,menu2:!1,newFiles:[],transparent:"rgba(255, 255, 255, 0)",headers:[{text:"Submitted By",value:"room_user.name"},{text:"Submitted At",value:"created_at"},{text:"Submission Status",value:"submit_status"},{text:"Mark",value:"mark"},{text:"File",value:"files"}],submissions:[]}},created:function(){this.loadSubmissions()},methods:{loadSubmissions:function(){var e=this;i["a"].get("/assignments/".concat(this.$route.params.id,"/submissions/")).then((function(t){e.submissions=t.data}))},updateMark:function(e,t){var n=t.id;this.$api.put("assignments/".concat(this.$route.params.id,"/submissions/update-mark/"),{mark:e,assignment_submission_id:n}).then((function(e){return console.log(e)}))},deleteFile:function(e){var t=e.id;e.assignment_id;return i["a"].delete("assignment_files/".concat(t))},deleteAssignment:function(){return this.$store.dispatch("assignments/delete",this.assignment.id)},addFiles:function(){var e=new FormData;if(e.append("id",this.assignment.id),this.newFiles.length>0)for(var t=0;t<this.newFiles.length;t++)e.append("attachments[]",this.newFiles[t]);return i["a"].post("assignment_files/",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return console.log(e)}))},updateAssignment:function(e){var t=e.id,n=e.class_id,a=e.name,s=e.description,i=(e.due_date,e.due_time,e.mark);return this.$store.dispatch("assignments/update",{id:t,class_id:n,name:a,description:s,end_date_time:end_date_time,mark:i})}},computed:{assignment:function(){var e=this;return this.$store.state.assignments.assignments.find((function(t){return t.id==e.$route.params.id}))}}},l=o,c=(n("57d8"),n("2877")),u=n("6544"),d=n.n(u),m=n("8336"),v=n("b0af"),f=n("99d9"),p=n("62ad"),g=n("a523"),h=n("8fea"),_=n("2e4b"),b=n("23a7"),k=n("ce87"),x=n("132d"),w=n("e449"),y=n("0fd9"),$=n("2fa4"),V=n("8654"),F=n("c964"),S=Object(c["a"])(l,a,s,!1,null,"3ac0a412",null);t["default"]=S.exports;d()(S,{VBtn:m["a"],VCard:v["a"],VCardActions:f["a"],VCardTitle:f["d"],VCol:p["a"],VContainer:g["a"],VDataTable:h["a"],VDatePicker:_["a"],VFileInput:b["a"],VHover:k["a"],VIcon:x["a"],VMenu:w["a"],VRow:y["a"],VSpacer:$["a"],VTextField:V["a"],VTimePicker:F["a"]})}}]);
//# sourceMappingURL=chunk-123c8e48.953ad309.js.map