webpackHotUpdate("app",{

/***/ "./src/store/AssignmentStore.js":
/*!**************************************!*\
  !*** ./src/store/AssignmentStore.js ***!
  \**************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _services_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/services/api */ \"./src/services/api.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  namespaced: true,\n  state: {\n    assignments: []\n  },\n  actions: {\n    get: function get(_ref) {\n      var commit = _ref.commit;\n      return _services_api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(\"/assignments/\").then(function (response) {\n        return commit(\"load\", response.data.map(function (data) {\n          return _objectSpread(_objectSpread({}, data), {}, {\n            created_at: new Date(data.created_at).toLocaleString()\n          });\n        }));\n      });\n    },\n    add: function add(_ref2, payload) {\n      var dispatch = _ref2.dispatch;\n      var formData = new FormData();\n\n      for (var key in payload) {\n        formData.append(key, payload[key]);\n      }\n\n      if (payload.attachments) {\n        for (var i = 0; i < payload.attachments.length; i++) {\n          formData.append(\"attachments[]\", payload.attachments[i]);\n        }\n      }\n\n      return _services_api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"assignments/\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(function () {\n        return dispatch(\"get\");\n      });\n    },\n    update: function update(_ref3, _ref4) {\n      var dispatch = _ref3.dispatch;\n      var id = _ref4.id,\n          name = _ref4.name,\n          description = _ref4.description,\n          due_date = _ref4.due_date,\n          due_time = _ref4.due_time,\n          mark = _ref4.mark;\n      return _services_api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].put(\"assignments/\", {\n        id: id,\n        name: name,\n        description: description,\n        submission_date_time: \"\".concat(due_date, \"' '\").concat(due_time),\n        mark: mark\n      }).then(function () {\n        return dispatch(\"get\");\n      });\n    },\n    delete: function _delete(_ref5, id) {\n      var dispatch = _ref5.dispatch;\n      console.log(_services_api__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n      return _services_api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].delete(\"assignments/\" + id + '/').then(function () {\n        return dispatch(\"get\");\n      });\n    },\n    submit: function submit(_ref6, payload) {\n      var commit = _ref6.commit;\n      var assignment_id = payload.assignment_id,\n          assignment_submission_files = payload.assignment_submission_files;\n      var formData = new FormData();\n      formData.append('assignment_id', assignment_id);\n\n      for (var i = 0; i < assignment_submission_files.length; i++) {\n        formData.append(\"assignment_submission_files[]\", assignment_submission_files[i]);\n      }\n\n      return _services_api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].post(\"assignments/\".concat(assignment_id, \"/submissions/\"), formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(function (res) {\n        return console.log(res);\n      });\n    }\n  },\n  mutations: {\n    load: function load(state, payload) {\n      state.assignments = payload;\n    }\n  },\n  getters: {\n    all_assignment: function all_assignment(state) {\n      return state.assignments;\n    },\n    assignments_for_current_class: function assignments_for_current_class(state) {\n      return function (class_id) {\n        return state.assignments.filter(function (assignment) {\n          return assignment.room == class_id;\n        });\n      };\n    },\n    get_submission_by_assignment: function get_submission_by_assignment(state) {\n      return function (assignment_id) {\n        return state.submissions.filter(function (submission) {\n          return submission.assignment_id === assignment_id;\n        });\n      };\n    }\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvc3RvcmUvQXNzaWdubWVudFN0b3JlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vc3JjL3N0b3JlL0Fzc2lnbm1lbnRTdG9yZS5qcz84NzhjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhcGkgZnJvbSBcIkAvc2VydmljZXMvYXBpXCI7XG5leHBvcnQgZGVmYXVsdCB7XG4gIG5hbWVzcGFjZWQ6IHRydWUsXG4gIHN0YXRlOiB7XG4gICAgYXNzaWdubWVudHM6IFtdLFxuICB9LFxuXG4gIGFjdGlvbnM6IHtcbiAgICBnZXQoeyBjb21taXQgfSkge1xuICAgICAgcmV0dXJuIGFwaS5nZXQoXCIvYXNzaWdubWVudHMvXCIpLnRoZW4oKHJlc3BvbnNlKSA9PlxuICAgICAgICBjb21taXQoXG4gICAgICAgICAgXCJsb2FkXCIsXG4gICAgICAgICAgcmVzcG9uc2UuZGF0YS5tYXAoKGRhdGEpID0+ICh7XG4gICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoZGF0YS5jcmVhdGVkX2F0KS50b0xvY2FsZVN0cmluZygpLFxuICAgICAgICAgIH0pKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH0sXG5cbiAgICBhZGQoeyBkaXNwYXRjaCB9LCBwYXlsb2FkKSB7XG4gICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBwYXlsb2FkKSB7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChrZXksIHBheWxvYWRba2V5XSk7XG4gICAgICB9XG4gICAgICBpZiAocGF5bG9hZC5hdHRhY2htZW50cykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBheWxvYWQuYXR0YWNobWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoXCJhdHRhY2htZW50c1tdXCIsIHBheWxvYWQuYXR0YWNobWVudHNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYXBpXG4gICAgICAgIC5wb3N0KFwiYXNzaWdubWVudHMvXCIsIGZvcm1EYXRhLCB7IGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIgfSB9KVxuICAgICAgICAudGhlbigoKSA9PiBkaXNwYXRjaChcImdldFwiKSk7XG4gICAgfSxcbiAgICB1cGRhdGUoeyBkaXNwYXRjaCB9LCB7IGlkLCBuYW1lLCBkZXNjcmlwdGlvbiwgZHVlX2RhdGUsIGR1ZV90aW1lLCBtYXJrIH0pIHtcbiAgICAgIHJldHVybiBhcGlcbiAgICAgICAgLnB1dChcImFzc2lnbm1lbnRzL1wiLCB7XG4gICAgICAgICAgaWQsXG4gICAgICAgICAgbmFtZSxcbiAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICBzdWJtaXNzaW9uX2RhdGVfdGltZTogYCR7ZHVlX2RhdGV9JyAnJHtkdWVfdGltZX1gLFxuICAgICAgICAgIG1hcmssXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IGRpc3BhdGNoKFwiZ2V0XCIpKTtcbiAgICB9LFxuICAgIGRlbGV0ZSh7IGRpc3BhdGNoIH0sIGlkKSB7XG4gICAgICBjb25zb2xlLmxvZyhhcGkpO1xuICAgICAgcmV0dXJuIGFwaS5kZWxldGUoXCJhc3NpZ25tZW50cy9cIiArIGlkICsgJy8nKS50aGVuKCgpID0+IGRpc3BhdGNoKFwiZ2V0XCIpKTtcbiAgICB9LFxuICAgIHN1Ym1pdCh7IGNvbW1pdCB9LCBwYXlsb2FkKSB7XG4gICAgICBjb25zdCB7IGFzc2lnbm1lbnRfaWQsIGFzc2lnbm1lbnRfc3VibWlzc2lvbl9maWxlcyB9ID0gcGF5bG9hZFxuICAgICAgbGV0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICBmb3JtRGF0YS5hcHBlbmQoJ2Fzc2lnbm1lbnRfaWQnLCBhc3NpZ25tZW50X2lkKVxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhc3NpZ25tZW50X3N1Ym1pc3Npb25fZmlsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKFwiYXNzaWdubWVudF9zdWJtaXNzaW9uX2ZpbGVzW11cIiwgYXNzaWdubWVudF9zdWJtaXNzaW9uX2ZpbGVzW2ldKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcGlcbiAgICAgICAgLnBvc3QoYGFzc2lnbm1lbnRzLyR7YXNzaWdubWVudF9pZH0vc3VibWlzc2lvbnMvYCwgZm9ybURhdGEsIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiIH0sXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChyZXMpID0+IGNvbnNvbGUubG9nKHJlcykpO1xuICAgIH0sXG4gIH0sXG5cbiAgbXV0YXRpb25zOiB7XG4gICAgbG9hZChzdGF0ZSwgcGF5bG9hZCkge1xuICAgICAgc3RhdGUuYXNzaWdubWVudHMgPSBwYXlsb2FkO1xuICAgIH0sXG4gIH0sXG5cbiAgZ2V0dGVyczoge1xuICAgIGFsbF9hc3NpZ25tZW50OiAoc3RhdGUpID0+IHN0YXRlLmFzc2lnbm1lbnRzLFxuXG4gICAgYXNzaWdubWVudHNfZm9yX2N1cnJlbnRfY2xhc3M6IChzdGF0ZSkgPT4gKGNsYXNzX2lkKSA9PlxuICAgICAgc3RhdGUuYXNzaWdubWVudHMuZmlsdGVyKChhc3NpZ25tZW50KSA9PiBhc3NpZ25tZW50LnJvb20gPT0gY2xhc3NfaWQpLFxuICAgIGdldF9zdWJtaXNzaW9uX2J5X2Fzc2lnbm1lbnQ6IChzdGF0ZSkgPT4gKGFzc2lnbm1lbnRfaWQpID0+XG4gICAgICBzdGF0ZS5zdWJtaXNzaW9ucy5maWx0ZXIoKHN1Ym1pc3Npb24pID0+IHN1Ym1pc3Npb24uYXNzaWdubWVudF9pZCA9PT0gYXNzaWdubWVudF9pZCksXG4gIH0sXG59O1xuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUVBO0FBRkE7QUFBQTtBQUhBO0FBU0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBREE7QUFHQTtBQUFBO0FBQ0E7QUF0REE7QUF5REE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQURBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBREE7QUFBQTtBQUxBO0FBckVBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/store/AssignmentStore.js\n");

/***/ })

})